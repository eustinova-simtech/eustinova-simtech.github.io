(self.webpackChunkpwajet=self.webpackChunkpwajet||[]).push([[7066],{48302:function(t,r,n){"use strict";n.d(r,{vT:function(){return E},AA:function(){return o},Oc:function(){return u},yi:function(){return _},fT:function(){return i},Ic:function(){return a}});var e=n(97641);function E(t){return{type:e.Z.DB_REQUEST_VENDOR_DEPENDANT_PRODUCTS,payload:{id:t}}}function u(t,r){return{type:e.Z.DB_REQUEST_VENDOR_DEPENDANT_PRODUCTS_SUCCESS,payload:{id:t,productSelection:r}}}function o(t){return{type:e.Z.DB_REQUEST_VENDOR_DEPENDANT_PRODUCTS_FAILURE,payload:{id:t}}}var D=n(8802),c=n(48340);function _(t){return{type:e.Z.REQUEST_VENDOR_DEPENDANT_PRODUCTS,payload:{id:t}}}function a(t,r){return r.products.forEach((function(t){return(0,D.persistProduct)(t)})),{type:e.Z.REQUEST_VENDOR_DEPENDANT_PRODUCTS_SUCCESS,payload:{id:t,productSelection:r}}}function i(t,r){var n=new c.Z({status:r.status,shouldRetry:r.shouldRetry||!1,message:r.message||"Unhandled error"});return{type:e.Z.REQUEST_VENDOR_DEPENDANT_PRODUCTS_FAILURE,payload:{id:t,error:n}}}},97641:function(t,r){"use strict";var n;!function(t){t.REQUEST_VENDOR_DEPENDANT_PRODUCTS="REQUEST_VENDOR_DEPENDANT_PRODUCTS",t.REQUEST_VENDOR_DEPENDANT_PRODUCTS_SUCCESS="REQUEST_VENDOR_DEPENDANT_PRODUCTS_SUCCESS",t.REQUEST_VENDOR_DEPENDANT_PRODUCTS_FAILURE="REQUEST_VENDOR_DEPENDANT_PRODUCTS_FAILURE",t.DB_REQUEST_VENDOR_DEPENDANT_PRODUCTS="DB_REQUEST_VENDOR_DEPENDANT_PRODUCTS",t.DB_REQUEST_VENDOR_DEPENDANT_PRODUCTS_SUCCESS="DB_REQUEST_VENDOR_DEPENDANT_PRODUCTS_SUCCESS",t.DB_REQUEST_VENDOR_DEPENDANT_PRODUCTS_FAILURE="DB_REQUEST_VENDOR_DEPENDANT_PRODUCTS_FAILURE"}(n||(n={})),r.Z=n},27066:function(t,r,n){"use strict";n.r(r),n.d(r,{commonProductsEpics:function(){return y}});var e=n(87757),E=n.n(e),u=n(59713),o=n.n(u),D=n(48926),c=n.n(D),_=n(70782),a=n(96381),i=n(55709),R=n(40486),s=n(94072),T=n(18170),S=n(48302),p=n(97641),N=function(){var t=c()(E().mark((function t(r){var e;return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.resolve().then(n.bind(n,14340));case 2:return e=t.sent,t.abrupt("return",e.getProductsRequest().limit(500).setParams({vendor_products_by_product_id:r}).get());case 4:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}();function O(t,r){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var e=Object.getOwnPropertySymbols(t);r&&(e=e.filter((function(r){return Object.getOwnPropertyDescriptor(t,r).enumerable}))),n.push.apply(n,e)}return n}function P(t){for(var r=1;r<arguments.length;r++){var n=null!=arguments[r]?arguments[r]:{};r%2?O(Object(n),!0).forEach((function(r){o()(t,r,n[r])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))}))}return t}var f=n(83830),U=n(80932),d=n(76526),l=n(81430),C=function(t){return l.ZP.products.filter((function(r){return r.extra.masterProductId===t})).toArray().then((function(t){return new d.Z({products:t,pagination:{page:1,total:t.length,limit:t.length}})}))},y=[function(t,r,n){var e=n.parser;return t.pipe((0,_.l)(p.Z.REQUEST_VENDOR_DEPENDANT_PRODUCTS),(0,a.w)((function(t){return(0,s.D)(N(t.payload.id)).pipe((0,a.w)(function(){var t=c()(E().mark((function t(r){return E().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=P,t.t1=P({},r),t.t2={},t.next=5,e.extractProducts(r.data);case 5:return t.t3=t.sent,t.t4={data:t.t3},t.abrupt("return",(0,t.t0)(t.t1,t.t2,t.t4));case 8:case"end":return t.stop()}}),t)})));return function(r){return t.apply(this,arguments)}}()),(0,i.U)((function(r){var n=r.data;return(0,S.Ic)(t.payload.id,n)})),(0,R.K)((function(r){return console.error(r),(0,T.of)((0,S.fT)(t.payload.id,{status:r.status,message:r.message}))})))})))},function(t){return(0,f.c)(t,p.Z.REQUEST_VENDOR_DEPENDANT_PRODUCTS_FAILURE,(function(t){return(0,S.vT)(t)}))},function(t){return(0,U.K)(t,p.Z.REQUEST_VENDOR_DEPENDANT_PRODUCTS,C,S.Oc,S.AA)}]}}]);
//# sourceMappingURL=7066.307478e528c14847838c.chunk.js.map